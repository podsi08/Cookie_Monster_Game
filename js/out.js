!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=3)}([function(t,e){t.exports=function(){this.x=0,this.y=0,this.direction="right"}},function(t,e){t.exports=function(){this.x=Math.floor(10*Math.random()),this.y=Math.floor(10*Math.random())}},function(t,e,o){var n=o(1),i=o(0);t.exports=function(){this.board=document.querySelectorAll("#board div"),this.monster=new i,this.cookie=new n,this.score=0,this.index=function(t,e){return t+10*e},this.showMonster=function(){this.hideVisibleMonster(),this.board[this.index(this.monster.x,this.monster.y)].classList.add("monster")},this.showCookie=function(){this.board[this.index(this.cookie.x,this.cookie.y)].classList.add("cookie")},this.changeInterval=function(t,e){var o=this;setTimeout(function(){clearInterval(o.idSetInterval),o.idSetInterval=setInterval(function(){o.moveMonster()},e)},t)},this.startGame=function(){var t=this;this.idSetInterval=setInterval(function(){t.moveMonster()},400),this.changeInterval(15e3,320),this.changeInterval(3e4,240),this.changeInterval(45e3,180),this.changeInterval(6e4,120)},this.moveMonster=function(){"right"===this.monster.direction?this.monster.x+=1:"left"===this.monster.direction?this.monster.x-=1:"up"===this.monster.direction?this.monster.y-=1:this.monster.y+=1,this.gameOver()||(this.showMonster(),this.checkCookieCollision())},this.hideVisibleMonster=function(){var t=document.querySelector(".monster");null!==t&&t.classList.remove("monster")},this.turnMonster=function(t){switch(t.which){case 37:this.monster.direction="left";break;case 38:this.monster.direction="up";break;case 39:this.monster.direction="right";break;case 40:this.monster.direction="down"}},this.setScore=function(){document.querySelector("#score h2 span").innerText=this.score},this.checkCookieCollision=function(){this.monster.x===this.cookie.x&&this.monster.y===this.cookie.y&&(document.querySelector(".cookie").classList.remove("cookie"),this.score++,this.setScore(),this.cookie=new n,this.showCookie())},this.saveScoreToLocalStorage=function(t){localStorage.setItem("cookie_monster",JSON.stringify(t))},this.loadResultsFromLocalStorage=function(){var t=JSON.parse(localStorage.getItem("cookie_monster"));return null===t?[]:t},this.gameOver=function(){if(this.monster.x<0||this.monster.x>9||this.monster.y<0||this.monster.y>9){clearInterval(this.idSetInterval),this.hideVisibleMonster();var t=this.loadResultsFromLocalStorage();-1===t.indexOf(this.score)&&(t.push(this.score),t.sort(function(t,e){return e-t}),this.saveScoreToLocalStorage(t));var e=t.indexOf(this.score),o=document.getElementById("over"),n=document.querySelector(".info__score"),i=document.querySelector(".ranking_place"),s=document.querySelector(".ranking_best");return o.classList.remove("invisible"),n.innerText=this.score,i.innerText=e+1,s.innerText=t[0],!0}return!1},this.resetGame=function(){this.monster=new i,this.score=0,clearInterval(this.idSetInterval),this.setScore()}}},function(t,e,o){var n=new(o(2)),i=document.querySelector(".start_btn"),s=document.querySelector(".new_game_btn");function r(){n.resetGame(),n.showMonster(),n.showCookie(),n.startGame()}document.addEventListener("keydown",function(t){n.turnMonster(t)}),i.addEventListener("click",function(){r()}),s.addEventListener("click",function(){document.getElementById("over").classList.add("invisible"),r()})}]);